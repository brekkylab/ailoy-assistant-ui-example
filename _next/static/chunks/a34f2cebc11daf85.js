(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36089,e=>{"use strict";var t=class{_providers=new Set;getModelContext(){return Array.from(this._providers).map(e=>e.getModelContext()).sort((e,t)=>(t.priority??0)-(e.priority??0)).reduce((e,t)=>{if(t.system&&(e.system?e.system+=`

${t.system}`:e.system=t.system),t.tools)for(let[r,i]of Object.entries(t.tools)){let t=e.tools?.[r];if(t&&t!==i)throw Error(`You tried to define a tool with the name ${r}, but it already exists.`);e.tools||(e.tools={}),e.tools[r]=i}return t.config&&(e.config={...e.config,...t.config}),t.callSettings&&(e.callSettings={...e.callSettings,...t.callSettings}),e},{})}registerModelContextProvider(e){this._providers.add(e);let t=e.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(e),t?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(let e of this._subscribers)e()}subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}};e.s(["CompositeContextProvider",()=>t],36089)},41619,88744,39275,48637,68531,12594,16181,90308,37469,51416,14453,68146,57464,66170,92219,35305,37036,93722,17243,e=>{"use strict";e.s(["AssistantProvider",()=>ep,"createAssistantApiField",()=>ea,"extendApi",()=>ef,"useAssistantApi",()=>eh,"useAssistantApiImpl",()=>ec,"useExtendedAssistantApi",()=>ed],41619);var t,r=e.i(19243);function i(e){let t=e[n];if(!t)throw Error("ResourceElement.type is not a valid Resource");return t}var n=Symbol("fnSymbol"),s=null;function o(){if(!s)throw Error("No resource fiber available");return s}function a(e,t){return{resourceFn:e,scheduleRerender:t,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function l(e){e.isMounted=!1;let t=null;for(let r=e.cells.length-1;r>=0;r--){let i=e.cells[r];if(i?.type==="effect"&&i.mounted&&i.cleanup)try{i.cleanup()}catch(e){null==t&&(t=e)}finally{i.mounted=!1}}if(null!=t)throw t}function u(e,t){let r={commitTasks:[],props:t,state:void 0};e.currentIndex=0;let i=s;s=e;try{if((()=>{e.renderContext=r;try{r.state=e.resourceFn(t)}finally{e.renderContext=void 0}})(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{s=i}return r}function c(e,t){e.isMounted=!0,e.isNeverMounted=!1,t.commitTasks.forEach(t=>{let r=t.cellIndex,i=e.cells[r];if("effect"!==i.type)throw Error("Cannot find effect cell");let n=!0;if(void 0!==i.deps&&void 0!==t.deps&&(n=i.deps.length!==t.deps.length||i.deps.some((e,r)=>!Object.is(e,t.deps[r]))),n){if(i.mounted){if(typeof i.deps!=typeof t.deps)throw Error("tapEffect called with and without dependencies across re-renders");try{i.mounted&&i.cleanup&&i.cleanup()}finally{i.mounted=!1}}try{let e=t.effect();if(void 0!==e&&"function"!=typeof e)throw Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof e}`);i.mounted=!0,i.cleanup="function"==typeof e?e:void 0,i.deps=t.deps}catch(e){throw e}}})}var d=!0===globalThis.__ASSISTANT_UI_DISABLE_LAYOUT_EFFECT__?r.useEffect:r.useLayoutEffect;function h(e){let[,t]=(0,r.useState)({}),n=(0,r.useMemo)(()=>a(i(e.type),()=>t({})),[e.type,t]),s=u(n,e.props);return d(()=>()=>l(n),[]),d(()=>{c(n,s)}),s.state}e.s(["useResource",()=>h],88744);var f=e=>"string"==typeof e?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},p=(e,t,r)=>t===e;e.s(["checkEventScope",()=>p,"normalizeEventSelector",()=>f],39275);let g=e=>{let t,r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:i,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(i,n,s);return s},m=e=>{let t=e?g(e):g,i=e=>(function(e,t=e=>e){let i=r.default.useSyncExternalStore(e.subscribe,r.default.useCallback(()=>t(e.getState()),[e,t]),r.default.useCallback(()=>t(e.getInitialState()),[e,t]));return r.default.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},b=e=>e?m(e):m;function y(e,t){function r(r){let i=e(r);return i?i[t]:null}return{[t]:function(e){let t,i=!1;"function"==typeof e?t=e:e&&"object"==typeof e&&(i=!!e.optional,t=e.selector);let n=r({optional:i});return n?t?n(t):n():null},[`${t}Store`]:r}}e.s(["create",()=>b],48637),e.s(["createContextStoreHook",()=>y],68531);var _=(0,r.createContext)(null),{useThreadViewport:S,useThreadViewportStore:v}=y(function(e){let t=(0,r.useContext)(_);if(!e?.optional&&!t)throw Error("This component must be used within ThreadPrimitive.Viewport.");return t},"useThreadViewport");e.s(["ThreadViewportContext",()=>_,"useThreadViewport",()=>S,"useThreadViewportStore",()=>v],12594);var w=e=>e;e.s(["writableStore",()=>w],16181);var x=e.i(54011),E=({children:e})=>{let t=(()=>{let e=v({optional:!0}),[t]=(0,r.useState)(()=>{let e;return e=new Set,b(()=>({isAtBottom:!0,scrollToBottom:()=>{for(let t of e)t()},onScrollToBottom:t=>(e.add(t),()=>{e.delete(t)})}))});return(0,r.useEffect)(()=>e?.getState().onScrollToBottom(()=>{t.getState().scrollToBottom()}),[e,t]),(0,r.useEffect)(()=>{if(e)return t.subscribe(t=>{e.getState().isAtBottom!==t.isAtBottom&&w(e).setState({isAtBottom:t.isAtBottom})})},[t,e]),t})(),[i]=(0,r.useState)(()=>({useThreadViewport:t}));return(0,x.jsx)(_.Provider,{value:i,children:e})};e.s(["ThreadViewportProvider",()=>E],90308);var T=()=>{if(t)return t;let e=()=>({apis:new Map,nextId:0,listeners:new Set});if("undefined"==typeof window)return t=e();let r=window.__ASSISTANT_UI_DEVTOOLS_HOOK__;if(r)return t=r,r;let i=e();return window.__ASSISTANT_UI_DEVTOOLS_HOOK__=i,t=i,i},I=class e{static MAX_EVENT_LOGS_PER_API=200;static register(t){let r=T();for(let e of r.apis.values())if(e.api===t)return()=>{};let i=r.nextId++,n=t.on?.("*",t=>{let n=r.apis.get(i);n&&(n.logs.push({time:new Date,event:t.event,data:t.payload}),n.logs.length>e.MAX_EVENT_LOGS_PER_API&&(n.logs=n.logs.slice(-e.MAX_EVENT_LOGS_PER_API)),e.notifyListeners(i))}),s=t.subscribe?.(()=>{e.notifyListeners(i)});return r.apis.set(i,{api:t,logs:[]}),e.notifyListeners(i),()=>{let t=T();t.apis.get(i)&&(n?.(),s?.(),t.apis.delete(i),e.notifyListeners(i))}}static notifyListeners(e){T().listeners.forEach(t=>t(e))}};function C(e){let t=function(e){let t=o(),r=t.currentIndex++;if(!t.isFirstRender&&r>=t.cells.length)throw Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(!t.cells[r]){let i={type:"state",value:"function"==typeof e?e():e,set:e=>{let r=i.value,n="function"==typeof e?e(r):e;if(!Object.is(r,n)){i.value=n;if(t.renderContext)throw Error("Resource updated during render");if(t.isNeverMounted)throw Error("Resource updated before mount");t.isMounted&&t.scheduleRerender()}}};t.cells[r]=i}let i=t.cells[r];if("state"!==i.type)throw Error("Hook order changed between renders");return i}(e);return[t.value,t.set]}function A(e){let[t]=C(()=>({current:e}));return t}e.s(["tapState",()=>C],37469);var R=(e,t)=>{let r=A();return r.current||(r.current={value:e(),deps:t}),((e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0})(r.current.deps,t)||(r.current.value=e(),r.current.deps=t),r.current.value};function M(e){let t=(e,r)=>({type:t,props:e,...r?.key!==void 0&&{key:r.key}});return t[n]=e,t}function P(e){return i(e.type)(e.props)}function O(e,t){let r=o(),i=function(){let e=o(),t=e.currentIndex++;if(!e.isFirstRender&&t>=e.cells.length)throw Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(e.cells[t]||(e.cells[t]={type:"effect",mounted:!1}),"effect"!==e.cells[t].type)throw Error("Hook order changed between renders");return t}();r.renderContext.commitTasks.push({effect:e,deps:t,cellIndex:i})}function j(e,t){let[r,n]=C({}),s=R(()=>a(i(e.type),()=>n({})),[e.type]),o=t?R(()=>e.props,t):e.props,d=R(()=>u(s,o),[s,o,r]);return O(()=>()=>l(s),[s]),O(()=>{c(s,d)},[s,d]),d.state}e.s(["tapMemo",()=>R],51416),e.s(["resource",()=>M],14453),e.s(["tapInlineResource",()=>P],68146),e.s(["tapEffect",()=>O],57464);var k=class{constructor(e){this.getApi=e}get(e,t){return this.getApi()[t]}ownKeys(){return Object.keys(this.getApi())}has(e,t){return t in this.getApi()}getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(this.getApi(),t)}set(){return!1}defineProperty(){return!1}deleteProperty(){return!1}},B=(e,t)=>{let r=A(e);O(()=>{r.current=e});let i=R(()=>new Proxy({},new k(()=>r.current)),[]),n=t?.key,s=e.getState();return R(()=>({key:n,state:s,api:i}),[s,n])};e.s(["tapApi",()=>B],66170);var L=Symbol("tap.Context"),N=e=>({[L]:e}),D=(e,t,r)=>{let i=e[L];e[L]=t;try{return r()}finally{e[L]=i}},F=e=>e[L],z=N(null),$=(e,t)=>D(z,e,t),U=()=>{let e=F(z);if(!e)throw Error("Model context is not available in this context");return e};e.s(["tapModelContext",()=>U,"withModelContextProvider",()=>$],92219);var H=M(({toolkit:e})=>{let[t,r]=C(()=>({tools:{}})),i=U();O(()=>{if(!e)return;let t=[];for(let[r,i]of Object.entries(e))i.render&&t.push(n(r,i.render));let r=Object.entries(e).reduce((e,[t,r])=>{let{render:i,...n}=r;return e[t]=n,e},{});return t.push(i.register({getModelContext:()=>({tools:r})})),()=>{t.forEach(e=>e())}},[e,i]);let n=(e,t)=>(r(r=>({...r,tools:{...r.tools,[e]:[...r.tools[e]??[],t]}})),()=>{r(r=>({...r,tools:{...r.tools,[e]:r.tools[e]?.filter(e=>e!==t)??[]}}))});return B({getState:()=>t,setToolUI:n})}),V=[],q=!1;function J(){q=!1;let e=V;for(let t of(V=[],e))try{t()}catch(e){console.error("Error in scheduled task:",e)}}var Y=class e{constructor(e){this._task=e}_isDirty=!1;_hasScheduledTask=!1;_isFlushing=!1;static MAX_FLUSH_DEPTH=50;get isDirty(){return this._isDirty}markDirty(){if(this._isDirty=!0,!this._hasScheduledTask&&!this._isFlushing){var e;this._hasScheduledTask=!0,e=()=>{this._hasScheduledTask=!1,this.flushSync()},V.push(e),q||(q=!0,queueMicrotask(J))}}flushSync(){if(this._isFlushing)return;this._isFlushing=!0;let t=0;try{for(;this._isDirty;){if(++t>e.MAX_FLUSH_DEPTH)throw Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");this._isDirty=!1,this._task()}}finally{this._isFlushing=!1}}},W=({element:e,onUpdateInput:t,onFlushSync:r,onDispose:i})=>{let[n,s]=C(e.props),o=P({type:e.type,props:n}),a=A(new Set).current,l=A(o);return O(()=>{o!==l.current&&(l.current=o,a.forEach(e=>e()))}),R(()=>({getState:()=>l.current,subscribe:e=>(a.add(e),()=>a.delete(e)),updateInput:e=>{t(),s(()=>e)},flushSync:r,dispose:i}),[])},K=M(e=>{let t=R(()=>((e,t=!1)=>{let r=!t,i={element:e,onUpdateInput:()=>{r||(r=!0,c(s,o))},onFlushSync:()=>{n.flushSync()},onDispose:()=>l(s)},n=new Y(()=>{o=u(s,i),r&&c(s,o)}),s=a(W,()=>n.markDirty()),o=u(s,i);return r&&c(s,o),o.state})(e,!0),[e.type]);return O(()=>{t.updateInput(e.props)}),t});e.s(["asStore",()=>K],35305);var G=M(()=>R(()=>{let e=new Map;return{on:(t,r)=>{e.has(t)||e.set(t,new Set);let i=e.get(t);return i.add(r),()=>{i.delete(r),0===i.size&&e.delete(t)}},emit:(t,r)=>{let i=e.get(t),n=e.get("*");(i||n)&&queueMicrotask(()=>{if(i)for(let e of i)e(r);if(n)for(let e of n)e({event:t,payload:r})})}}},[])),X=N(null),Q=(e,t)=>D(X,e,t),Z=()=>{let e=F(X);if(!e)throw Error("Events context is not available");return e};e.s(["tapEvents",()=>Z,"withEventsProvider",()=>Q],37036);var ee=e.i(36089),et=M(()=>{let[e]=C(()=>({})),t=new ee.CompositeContextProvider;return B({getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:e=>t.subscribe(e),register:e=>t.registerModelContextProvider(e)})}),er=M(({threads:e,modelContext:t,tools:r})=>{let i=P(G()),{threads:n,tools:s,modelContext:o}=Q(i,()=>{let i=j(t??et(),[t]);return $(i.api,()=>({modelContext:i,tools:j(r??H({}),[r]),threads:j(e,[e])}))}),a=R(()=>({threads:n.state,tools:s.state,modelContext:o.state}),[n.state,s.state,o.state]);return B({getState:()=>a,threads:n.api,tools:s.api,modelContext:o.api,on:i.on})});function ei(e){let t=new Set;e.forEach((e,r)=>{if(void 0===e.key)throw Error(`tapResources: All resource elements must have a key. Element at index ${r} is missing a key.`);if(t.has(e.key))throw Error(`tapResources: Duplicate key "${e.key}" found. All keys must be unique.`);t.add(e.key)});let[r,n]=C({}),s=R(()=>new Map(e.map(e=>[e.key,e])),[e]),[o]=C(()=>new Map),d=R(()=>{let e=new Map,t=new Set;return s.forEach((r,s)=>{t.add(s);let c=o.get(s);c&&c.resourceFn===i(r.type)||(c&&l(c),c=a(i(r.type),()=>n({})),o.set(s,c));let d=u(c,r.props);e.set(s,d)}),o.forEach((e,r)=>{t.has(r)||(l(e),o.delete(r))}),e},[s,r]);return O(()=>{d.forEach((e,t)=>{let r=o.get(t);r&&c(r,e)})},[d,o]),O(()=>()=>{o.forEach(e=>{l(e)}),o.clear()},[o]),R(()=>e.map(e=>d.get(e.key)?.state),[e,d])}e.s(["DerivedScope",()=>en,"DerivedScopes",()=>eo],17243),e.s(["tapResources",()=>ei],93722);var en=M(e=>{let t=A(e.get);return O(()=>{t.current=e.get}),R(()=>ea({source:e.source,query:e.query,get:()=>t.current()}),[e.source,JSON.stringify(e.query)])}),es=M(e=>{let t=j(e.scopeElement);return R(()=>[e.fieldName,t],[e.fieldName,t])}),eo=M(e=>{let{on:t,subscribe:r,flushSync:i,...n}=e,s=A({on:t,subscribe:r,flushSync:i});O(()=>{s.current={on:t,subscribe:r,flushSync:i}});let o=ei(Object.entries(n).map(([e,t])=>es({fieldName:e,scopeElement:t},{key:e})));return R(()=>{let e=Object.fromEntries(o),{on:t,subscribe:r,flushSync:i}=s.current;return t&&(e.on=(e,r)=>t(e,r)),r&&(e.subscribe=e=>r(e)),i&&(e.flushSync=()=>i()),e},[...o])}),ea=e=>{let t=e.get;return t.source=e.source,t.query=e.query,t},el=()=>()=>{},eu=(0,r.createContext)({threads:ea({source:null,query:{},get:()=>{throw Error("Threads is only available inside <AssistantProvider />")}}),tools:ea({source:null,query:{},get:()=>{throw Error("Tools is only available inside <AssistantProvider />")}}),modelContext:ea({source:null,query:{},get:()=>{throw Error("ModelContext is only available inside <AssistantProvider />")}}),threadListItem:ea({source:null,query:{},get:()=>{throw Error("ThreadListItem is only available inside <AssistantProvider />")}}),thread:ea({source:null,query:{},get:()=>{throw Error("Thread is only available inside <AssistantProvider />")}}),composer:ea({source:null,query:{},get:()=>{throw Error("Composer is only available inside <AssistantProvider />")}}),message:ea({source:null,query:{},get:()=>{throw Error("Message is only available inside <ThreadPrimitive.Messages />")}}),part:ea({source:null,query:{},get:()=>{throw Error("Part is only available inside <MessagePrimitive.Parts />")}}),attachment:ea({source:null,query:{},get:()=>{throw Error("Attachment is only available inside <MessagePrimitive.Attachments /> or <ComposerPrimitive.Attachments />")}}),subscribe:el,flushSync:el,on:e=>{let{scope:t}=f(e);throw Error(`Event scope is not available in this component: ${t}`)}}),ec=()=>(0,r.useContext)(eu),ed=e=>{let t=ec(),i=h(eo(e));return(0,r.useMemo)(()=>ef(t,i),[t,i])};function eh(e){let t,i,n;if(!e)return ec();return t=ec(),i=h(K(er(e))),n=(0,r.useMemo)(()=>{let e;return e=()=>i.getState().api.threads.item("main"),{threads:ea({source:"root",query:{},get:()=>i.getState().api.threads}),tools:ea({source:"root",query:{},get:()=>i.getState().api.tools}),modelContext:ea({source:"root",query:{},get:()=>i.getState().api.modelContext}),thread:ea({source:"threads",query:{type:"main"},get:()=>i.getState().api.threads.thread("main")}),threadListItem:ea({source:"threads",query:{type:"main"},get:()=>e()}),composer:ea({source:"thread",query:{},get:()=>i.getState().api.threads.thread("main").composer}),on(t,r){let{event:n,scope:s}=f(t);if("*"===s)return i.getState().api.on(n,r);if(p("thread",s,n)||p("thread-list-item",s,n)||p("composer",s,n))return i.getState().api.on(n,t=>{t.threadId===e().getState().id&&r(t)});throw Error(`Event scope is not available in this component: ${s}`)},subscribe:i.subscribe,flushSync:i.flushSync}},[i]),(0,r.useMemo)(()=>ef(t,n),[t,n])}var ef=(e,t)=>{var r,i,n,s;let o=t.subscribe,a=t.flushSync;return{...e,...t,subscribe:(r=e.subscribe,i=o??el,r===el?i:i===el?r:(...e)=>{let t=r(...e),n=i(...e);return()=>{t(),n()}}),flushSync:(n=e.flushSync,s=a??el,n===el?s:s===el?n:(...e)=>{n(...e),s(...e)})}},ep=({api:e,children:t,devToolsVisible:i=!0})=>((0,r.useEffect)(()=>{if(i&&e.subscribe)return I.register(e)},[e,i]),(0,x.jsx)(eu.Provider,{value:e,children:(0,x.jsx)(E,{children:t})}))},65291,e=>{"use strict";var t=Symbol("innerMessage"),r=Symbol("innerMessages"),i=e=>e[t],n=[],s=e=>{let i="messages"in e?e.messages:e,s=i[r]||i[t];return s?Array.isArray(s)?s:(i[r]=[s],i[r]):n};e.s(["getExternalStoreMessage",()=>i,"getExternalStoreMessages",()=>s,"symbolInnerMessage",()=>t])},89293,(e,t,r)=>{"use strict";var i=e.i(40680);let n=void 0!==i.Buffer,s=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,o=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),n&&i.Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let a=JSON.parse(e,t);if(null===a||"object"!=typeof a)return a;let u=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===u&&"ignore"===c)return a;if("ignore"!==u&&"ignore"!==c){if(!1===s.test(e)&&!1===o.test(e))return a}else if("ignore"!==u&&"ignore"===c){if(!1===s.test(e))return a}else if(!1===o.test(e))return a;return l(a,{protoAction:u,constructorAction:c,safe:r&&r.safe})}function l(e,{protoAction:t="error",constructorAction:r="error",safe:i}={}){let n=[e];for(;n.length;){let e=n;for(let s of(n=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(!0===i)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(s,"constructor")&&null!==s.constructor&&"object"==typeof s.constructor&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(!0===i)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let e in s){let t=s[e];t&&"object"==typeof t&&n.push(t)}}}return e}function u(e,t,r){let{stackTraceLimit:i}=Error;Error.stackTraceLimit=0;try{return a(e,t,r)}finally{Error.stackTraceLimit=i}}t.exports=u,t.exports.default=u,t.exports.parse=u,t.exports.safeParse=function(e,t){let{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=r}},t.exports.scan=l},82166,e=>{"use strict";var t=e.i(89293),r=Symbol("aui.parse-partial-json-object.meta"),i=e=>{if(0===e.length)return{[r]:{state:"partial",partialPath:[]}};try{let i=t.default.parse(e);if("object"!=typeof i||null===i)throw Error("argsText is expected to be an object");return i[r]={state:"complete",partialPath:[]},i}catch{try{let[i,n]=function(e){let t,r=["ROOT"],i=-1,n=null,s=[];function o(){void 0!==t&&(s.push(JSON.parse('"'+t+'"')),t=void 0)}function a(e,t,s){switch(e){case'"':i=t,r.pop(),r.push(s),r.push("INSIDE_STRING"),o();break;case"f":case"t":case"n":i=t,n=t,r.pop(),r.push(s),r.push("INSIDE_LITERAL");break;case"-":r.pop(),r.push(s),r.push("INSIDE_NUMBER"),o();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=t,r.pop(),r.push(s),r.push("INSIDE_NUMBER"),o();break;case"{":i=t,r.pop(),r.push(s),r.push("INSIDE_OBJECT_START"),o();break;case"[":i=t,r.pop(),r.push(s),r.push("INSIDE_ARRAY_START"),o()}}function l(e,n){switch(e){case",":r.pop(),r.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":i=n,r.pop(),t=s.pop()}}function u(e,n){switch(e){case",":r.pop(),r.push("INSIDE_ARRAY_AFTER_COMMA"),t=(Number(t)+1).toString();break;case"]":i=n,r.pop(),t=s.pop()}}for(let o=0;o<e.length;o++){let c=e[o];switch(r[r.length-1]){case"ROOT":a(c,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(c){case'"':r.pop(),r.push("INSIDE_OBJECT_KEY"),t="";break;case"}":i=o,r.pop(),t=s.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===c&&(r.pop(),r.push("INSIDE_OBJECT_KEY"),t="");break;case"INSIDE_OBJECT_KEY":switch(c){case'"':r.pop(),r.push("INSIDE_OBJECT_AFTER_KEY");break;case"\\":r.push("INSIDE_STRING_ESCAPE"),t+=c;break;default:t+=c}break;case"INSIDE_OBJECT_AFTER_KEY":":"===c&&(r.pop(),r.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(c,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":l(c,o);break;case"INSIDE_STRING":switch(c){case'"':r.pop(),i=o,t=s.pop();break;case"\\":r.push("INSIDE_STRING_ESCAPE");break;default:i=o}break;case"INSIDE_ARRAY_START":"]"===c?(i=o,r.pop(),t=s.pop()):(i=o,t="0",a(c,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(c){case",":r.pop(),r.push("INSIDE_ARRAY_AFTER_COMMA"),t=(Number(t)+1).toString();break;case"]":i=o,r.pop(),t=s.pop();break;default:i=o}break;case"INSIDE_ARRAY_AFTER_COMMA":a(c,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":r.pop(),"INSIDE_STRING"===r[r.length-1]?i=o:"INSIDE_OBJECT_KEY"===r[r.length-1]&&(t+=c);break;case"INSIDE_NUMBER":switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=o;break;case"e":case"E":case"-":case".":break;case",":r.pop(),t=s.pop(),"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&u(c,o),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]&&l(c,o);break;case"}":r.pop(),t=s.pop(),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]&&l(c,o);break;case"]":r.pop(),t=s.pop(),"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&u(c,o);break;default:r.pop(),t=s.pop()}break;case"INSIDE_LITERAL":{let t=e.substring(n,o+1);"false".startsWith(t)||"true".startsWith(t)||"null".startsWith(t)?i=o:(r.pop(),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]?l(c,o):"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&u(c,o))}}}let c=e.slice(0,i+1);for(let t=r.length-1;t>=0;t--)switch(r[t]){case"INSIDE_STRING":c+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":c+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":c+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?c+="true".slice(t.length):"false".startsWith(t)?c+="false".slice(t.length):"null".startsWith(t)&&(c+="null".slice(t.length))}}return[c,s]}(e),s=t.default.parse(i);if("object"!=typeof s||null===s)throw Error("argsText is expected to be an object");return s[r]={state:"partial",partialPath:n},s}catch{return}}},n=(e,t,r)=>{if("object"!=typeof e||null===e)return t.state;if("complete"===t.state)return"complete";if(0===r.length)return t.state;let[i,...s]=r;if(!Object.prototype.hasOwnProperty.call(e,i))return"partial";let[o,...a]=t.partialPath;return i!==o?"complete":n(e[i],{state:"partial",partialPath:a},s)},s=(e,t)=>{let i=e?.[r];if(!i)throw Error("unable to determine object state");return n(e,i,t.map(String))};e.s(["getPartialJsonObjectFieldState",()=>s,"parsePartialJsonObject",()=>i],82166)},71506,97395,e=>{"use strict";let t=(e,t=21)=>(r=t)=>{let i="",n=0|r;for(;n--;)i+=e[Math.random()*e.length|0];return i};e.s(["customAlphabet",()=>t],97395);var r=t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),i=()=>`__optimistic__${r()}`;e.s(["generateId",()=>r,"generateOptimisticId",()=>i],71506)},95231,e=>{"use strict";var t=e.i(82166),r=e.i(71506),i=(e,i,n)=>{let{role:s,id:o,createdAt:a,attachments:l,status:u,metadata:c}=e,d={id:o??i,createdAt:a??new Date},h="string"==typeof e.content?[{type:"text",text:e.content}]:e.content;if("user"!==s&&l?.length)throw Error("attachments are only supported for user messages");if("assistant"!==s&&u)throw Error("status is only supported for assistant messages");if("assistant"!==s&&c?.steps)throw Error("metadata.steps is only supported for assistant messages");switch(s){case"assistant":return{...d,role:s,content:h.map(e=>{let i=e.type;switch(i){case"text":case"reasoning":if(0===e.text.trim().length)return null;return e;case"file":case"source":case"data":return e;case"image":return(({image:e,...t})=>e.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...t,image:e}:(console.warn("Invalid image data format detected"),null))(e);case"tool-call":{let{parentId:i,messages:n,...s}=e,o={...s,toolCallId:e.toolCallId??"tool-"+(0,r.generateId)(),...void 0!==i&&{parentId:i},...void 0!==n&&{messages:n}};if(e.args)return{...o,args:e.args,argsText:e.argsText??JSON.stringify(e.args)};return{...o,args:(0,t.parsePartialJsonObject)(e.argsText??"")??{},argsText:e.argsText??""}}default:throw Error(`Unsupported assistant message part type: ${i}`)}}).filter(e=>!!e),status:u??n,metadata:{unstable_state:c?.unstable_state??null,unstable_annotations:c?.unstable_annotations??[],unstable_data:c?.unstable_data??[],custom:c?.custom??{},steps:c?.steps??[],...c?.submittedFeedback&&{submittedFeedback:c.submittedFeedback}}};case"user":return{...d,role:s,content:h.map(e=>{let t=e.type;switch(t){case"text":case"image":case"audio":case"file":return e;default:throw Error(`Unsupported user message part type: ${t}`)}}),attachments:l??[],metadata:{custom:c?.custom??{}}};case"system":if(1!==h.length||"text"!==h[0].type)throw Error("System messages must have exactly one text message part.");return{...d,role:s,content:h,metadata:{custom:c?.custom??{}}};default:throw Error(`Unknown message role: ${s}`)}};e.s(["fromThreadMessageLike",()=>i])},92695,e=>{"use strict";var t=Symbol("autoStatus"),r=Object.freeze(Object.assign({type:"running"},{[t]:!0})),i=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[t]:!0})),n=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[t]:!0})),s=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[t]:!0})),o=e=>!0===e[t],a=(e,o,a,l,u)=>e&&u?Object.assign({type:"incomplete",reason:"error",error:u},{[t]:!0}):e&&o?r:a?s:l?n:i;e.s(["getAutoStatus",()=>a,"isAutoStatus",()=>o])},58249,e=>{"use strict";var t=e.i(36089),r=class{_contextProvider=new t.CompositeContextProvider;registerModelContextProvider(e){return this._contextProvider.registerModelContextProvider(e)}getModelContextProvider(){return this._contextProvider}};e.s(["BaseAssistantRuntimeCore",()=>r])},61129,e=>{"use strict";var t=e=>e.content.filter(e=>"text"===e.type).map(e=>e.text).join("\n\n");e.s(["getThreadMessageText",()=>t])},87886,e=>{"use strict";var t=e.i(71506),r=e.i(92695),i=e.i(95231),n={fromArray:e=>{let n=e.map(e=>(0,i.fromThreadMessageLike)(e,(0,t.generateId)(),(0,r.getAutoStatus)(!1,!1,!1,!1,void 0)));return{messages:n.map((e,t)=>({parentId:t>0?n[t-1].id:null,message:e}))}}},s=e=>e.next?s(e.next):"current"in e?e:null,o=class{constructor(e){this.func=e}_value=null;get value(){return null===this._value&&(this._value=this.func()),this._value}dirty(){this._value=null}},a=class{messages=new Map;head=null;root={children:[],next:null};updateLevels(e,t){for(let r of(e.level=t,e.children)){let e=this.messages.get(r);e&&this.updateLevels(e,t+1)}}performOp(e,t,r){let i=t.prev??this.root,n=e??this.root;if("relink"!==r||i!==n){if("link"!==r&&(i.children=i.children.filter(e=>e!==t.current.id),i.next===t)){let e=i.children.at(-1),t=e?this.messages.get(e):null;if(void 0===t)throw Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");i.next=t}if("cut"!==r){for(let r=e;r;r=r.prev)if(r.current.id===t.current.id)throw Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");n.children=[...n.children,t.current.id],(s(t)===this.head||null===n.next)&&(n.next=t),t.prev=e;let r=e?e.level+1:0;this.updateLevels(t,r)}}}_messages=new o(()=>{let e=Array((this.head?.level??-1)+1);for(let t=this.head;t;t=t.prev)e[t.level]=t.current;return e});get headId(){return this.head?.current.id??null}getMessages(e){if(void 0===e||e===this.head?.current.id)return this._messages.value;let t=this.messages.get(e);if(!t)throw Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");let r=Array(t.level+1);for(let e=t;e;e=e.prev)r[e.level]=e.current;return r}addOrUpdateMessage(e,t){let r=this.messages.get(t.id),i=e?this.messages.get(e):null;if(void 0===i)throw Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=t,this.performOp(i,r,"relink"),this._messages.dirty();return}let n={prev:i,current:t,next:null,children:[],level:i?i.level+1:0};this.messages.set(t.id,n),this.performOp(i,n,"link"),this.head===i&&(this.head=n),this._messages.dirty()}getMessage(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:t.prev?.current.id??null,message:t.current}}appendOptimisticMessage(e,r){let n;do n=(0,t.generateOptimisticId)();while(this.messages.has(n))return this.addOrUpdateMessage(e,(0,i.fromThreadMessageLike)(r,n,{type:"running"})),n}deleteMessage(e,t){let r=this.messages.get(e);if(!r)throw Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");let i=void 0===t?r.prev:null===t?null:this.messages.get(t);if(void 0===i)throw Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(let e of r.children){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(i,t,"relink")}this.performOp(null,r,"cut"),this.messages.delete(e),this.head===r&&(this.head=s(i??this.root)),this._messages.dirty()}getBranches(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");let{children:r}=t.prev??this.root;return r}switchToBranch(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");(t.prev??this.root).next=t,this.head=s(t),this._messages.dirty()}resetHead(e){if(null===e)return void this.clear();let t=this.messages.get(e);if(!t)throw Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(t.children.length>0){let e=t=>{for(let r of t.children){let t=this.messages.get(r);t&&(e(t),this.messages.delete(r))}};e(t),t.children=[],t.next=null}this.head=t;for(let e=t;e;e=e.prev)e.prev&&(e.prev.next=e);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){let e=[];for(let[,t]of this.messages)e.push({message:t.current,parentId:t.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:e}}import({headId:e,messages:t}){for(let{message:e,parentId:r}of t)this.addOrUpdateMessage(r,e);this.resetHead(e??t.at(-1)?.message.id??null)}};e.s(["ExportedMessageRepository",()=>n,"MessageRepository",()=>a])},71374,30634,e=>{"use strict";var t=class{_subscribers=new Set;subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}waitForUpdate(){return new Promise(e=>{let t=this.subscribe(()=>{t(),e()})})}_notifySubscribers(){let e=[];for(let t of this._subscribers)try{t()}catch(t){e.push(t)}if(e.length>0)if(1===e.length)throw e[0];else throw AggregateError(e)}},r=class extends t{isEditing=!0;get attachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(e){this._attachments=e,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(e){this._text!==e&&(this._text=e,this._notifySubscribers())}setRole(e){this._role!==e&&(this._role=e,this._notifySubscribers())}setRunConfig(e){this._runConfig!==e&&(this._runConfig=e,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){let e=this.getAttachmentAdapter();e&&await Promise.all(this._attachments.map(t=>e.remove(t)))}async reset(){if(0===this._attachments.length&&""===this._text&&"user"===this._role&&0===Object.keys(this._runConfig).length)return;this._role="user",this._runConfig={};let e=this._onClearAttachments();this._emptyTextAndAttachments(),await e}async clearAttachments(){let e=this._onClearAttachments();this.setAttachments([]),await e}async send(){let e=this.getAttachmentAdapter(),t=e&&this.attachments.length>0?Promise.all(this.attachments.map(async t=>"complete"===t.status.type?t:await e.send(t))):[],r=this.text;this._emptyTextAndAttachments();let i={createdAt:new Date,role:this.role,content:r?[{type:"text",text:r}]:[],attachments:await t,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(i),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(e){let t=this.getAttachmentAdapter();if(!t)throw Error("Attachments are not supported");let r=e=>{let t=this._attachments.findIndex(t=>t.id===e.id);-1!==t?this._attachments=[...this._attachments.slice(0,t),e,...this._attachments.slice(t+1)]:this._attachments=[...this._attachments,e],this._notifySubscribers()},i=t.add({file:e});if(Symbol.asyncIterator in i)for await(let e of i)r(e);else r(await i);this._notifyEventSubscribers("attachment-add"),this._notifySubscribers()}async removeAttachment(e){let t=this.getAttachmentAdapter();if(!t)throw Error("Attachments are not supported");let r=this._attachments.findIndex(t=>t.id===e);if(-1===r)throw Error("Attachment not found");let i=this._attachments[r];await t.remove(i),this._attachments=[...this._attachments.slice(0,r),...this._attachments.slice(r+1)],this._notifySubscribers()}_eventSubscribers=new Map;_notifyEventSubscribers(e){let t=this._eventSubscribers.get(e);if(t)for(let e of t)e()}unstable_on(e,t){let r=this._eventSubscribers.get(e);return r?r.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{let r=this._eventSubscribers.get(e);r&&r.delete(t)}}};e.s(["BaseComposerRuntimeCore",()=>r],30634);var i=class extends r{constructor(e){super(),this.runtime=e,this.connect()}_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(e){this.runtime.append({...e,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}};e.s(["DefaultThreadComposerRuntimeCore",()=>i],71374)},83939,94188,50370,5180,40643,e=>{"use strict";var t=class{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(let e of this._subscriptions)e()}_updateConnection(){this._subscriptions.size>0?this._connection||(this._connection=this._connect()):(this._connection?.(),this._connection=void 0)}subscribe(e){return this._subscriptions.add(e),this._updateConnection(),()=>{this._subscriptions.delete(e),this._updateConnection()}}};e.s(["BaseSubject",()=>t],94188);var r=Symbol("skip-update");e.s(["SKIP_UPDATE",()=>r],50370);var i=class extends t{constructor(e){super(),this.binding=e}get path(){return this.binding.path}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){let e=this.binding.getState();e!==r&&(this._previousState=e),this._previousStateDirty=!1}if(void 0===this._previousState)throw Error("Entry not available in the store");return this._previousState};_connect(){let e=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(e)}};e.s(["LazyMemoizeSubject",()=>i],83939);var n=class{constructor(e,t){this._core=e,this._threadListBinding=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){let e=this._core.getState();return this._threadListBinding.switchToThread(e.id)}rename(e){let t=this._core.getState();return this._threadListBinding.rename(t.id,e)}archive(){let e=this._core.getState();return this._threadListBinding.archive(e.id)}unarchive(){let e=this._core.getState();return this._threadListBinding.unarchive(e.id)}delete(){let e=this._core.getState();return this._threadListBinding.delete(e.id)}initialize(){let e=this._core.getState();return this._threadListBinding.initialize(e.id)}generateTitle(){let e=this._core.getState();return this._threadListBinding.generateTitle(e.id)}unstable_on(e,t){let r=this._core.getState().isMain,i=this._core.getState().id;return this.subscribe(()=>{let n=this._core.getState(),s=n.isMain,o=n.id;r===s&&i===o||(r=s,i=o,"switched-to"===e&&!s||"switched-away"===e&&s||t())})}subscribe(e){return this._core.subscribe(e)}detach(){let e=this._core.getState();this._threadListBinding.detach(e.id)}__internal_getRuntime(){return this}};e.s(["ThreadListItemRuntimeImpl",()=>n],5180);var s=class extends t{constructor(e){super(),this.binding=e;const t=e.getState();if(t===r)throw Error("Entry not available in the store");this._previousState=t}get path(){return this.binding.path}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){let e=this.binding.getState();return!(e===r||function(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e||void 0===t)return!1;for(let r of Object.keys(e))if(!Object.is(e[r],t[r]))return!1;return!0}(e,this._previousState))&&(this._previousState=e,!0)}_connect(){let e=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(e)}};e.s(["ShallowMemoizeSubject",()=>s],40643)},46850,15801,69966,e=>{"use strict";var t=e.i(83939),r=e.i(5180),i=e.i(50370),n=e.i(40643),s=e.i(65291),o=e.i(61129),a=class{constructor(e){this._core=e,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(e){return this._core.subscribe(e)}},l=class extends a{constructor(e,t){super(e),this._composerApi=t}remove(){let e=this._composerApi.getState();if(!e)throw Error("Composer is not available");return e.removeAttachment(this.getState().id)}},u=class extends l{get source(){return"thread-composer"}},c=class extends l{get source(){return"edit-composer"}},d=class extends a{get source(){return"message"}constructor(e){super(e)}remove(){throw Error("Message attachments cannot be removed")}},h=e.i(94188),f=class extends h.BaseSubject{constructor(e){super(),this.config=e}getState(){return this.config.binding.getState()}outerSubscribe(e){return this.config.binding.subscribe(e)}_connect(){let e=()=>{this.notifySubscribers()},t=this.config.binding.getState(),r=t?.unstable_on(this.config.event,e),i=()=>{let i=this.config.binding.getState();i!==t&&(t=i,r?.(),r=this.config.binding.getState()?.unstable_on(this.config.event,e))},n=this.outerSubscribe(i);return()=>{n?.(),r?.()}}},p=Object.freeze([]),g=Object.freeze({}),m=class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setText(e)}setRunConfig(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setRunConfig(e)}addAttachment(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");return t.addAttachment(e)}reset(){let e=this._core.getState();if(!e)throw Error("Composer is not available");return e.reset()}clearAttachments(){let e=this._core.getState();if(!e)throw Error("Composer is not available");return e.clearAttachments()}send(){let e=this._core.getState();if(!e)throw Error("Composer is not available");e.send()}cancel(){let e=this._core.getState();if(!e)throw Error("Composer is not available");e.cancel()}setRole(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setRole(e)}subscribe(e){return this._core.subscribe(e)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let r=this._eventSubscriptionSubjects.get(e);return r||(r=new f({event:e,binding:this._core}),this._eventSubscriptionSubjects.set(e,r)),r.subscribe(t)}},b=class extends m{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(e){const r=new t.LazyMemoizeSubject({path:e.path,getState:()=>{let t;return t=e.getState(),Object.freeze({type:"thread",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,attachments:t?.attachments??p,text:t?.text??"",role:t?.role??"user",runConfig:t?.runConfig??g,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""})},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>r.subscribe(e)}),this._getState=r.getState.bind(r),this.__internal_bindMethods()}getState(){return this._getState()}getAttachmentByIndex(e){return new u(new n.ShallowMemoizeSubject({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{let t=this.getState().attachments[e];return t?{...t,source:"thread-composer"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}),this._core)}},y=class extends m{constructor(e,r){const i=new t.LazyMemoizeSubject({path:e.path,getState:()=>{let t;return t=e.getState(),Object.freeze({type:"edit",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,text:t?.text??"",role:t?.role??"user",attachments:t?.attachments??p,runConfig:t?.runConfig??g,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""})},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>i.subscribe(e)}),this._beginEdit=r,this._getState=i.getState.bind(i),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}_getState;__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(e){return new c(new n.ShallowMemoizeSubject({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{let t=this.getState().attachments[e];return t?{...t,source:"edit-composer"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}),this._core)}},_=Symbol.for("aui.tool-response"),S=class e{get[_](){return!0}artifact;result;isError;constructor(e){void 0!==e.artifact&&(this.artifact=e.artifact),this.result=e.result,this.isError=e.isError??!1}static[Symbol.hasInstance](e){return"object"==typeof e&&null!==e&&_ in e}static toResponse(t){return t instanceof e?t:new e({result:void 0===t?"<no result>":t})}};e.s(["ToolResponse",()=>S],15801);var v=class{constructor(e,t,r){this.contentBinding=e,this.messageApi=t,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(e){let t=this.contentBinding.getState();if(!t)throw Error("Message part is not available");if("tool-call"!==t.type)throw Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw Error("Thread API is not available");let r=this.messageApi.getState();if(!r)throw Error("Message is not available");let i=t.toolName,n=t.toolCallId,s=S.toResponse(e);this.threadApi.getState().addToolResult({messageId:r.id,toolName:i,toolCallId:n,result:s.result,artifact:s.artifact,isError:s.isError})}resumeToolCall(e){let t=this.contentBinding.getState();if(!t)throw Error("Message part is not available");if("tool-call"!==t.type)throw Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw Error("Thread API is not available");let r=t.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:e})}subscribe(e){return this.contentBinding.subscribe(e)}},w=h,x=class extends w.BaseSubject{constructor(e){super(),this.binding=e}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(e){return this.binding.subscribe(e)}_connect(){let e=()=>{this.notifySubscribers()},t=this.binding.getState(),r=t?.subscribe(e),i=()=>{let i=this.binding.getState();i!==t&&(t=i,r?.(),r=this.binding.getState()?.subscribe(e),e())},n=this.outerSubscribe(i);return()=>{n?.(),r?.()}}},E=Object.freeze({type:"complete"}),T=(e,t)=>{let r=e.content[t];if(!r)return i.SKIP_UPDATE;let n=((e,t,r)=>{if("assistant"!==e.role)return E;if("tool-call"===r.type)if(!r.result)return e.status;else return E;let i=t===Math.max(0,e.content.length-1);return"requires-action"===e.status.type?E:i?e.status:E})(e,t,r);return Object.freeze({...r,...{[s.symbolInnerMessage]:r[s.symbolInnerMessage]},status:n})},I=class{constructor(e,t){this._core=e,this._threadBinding=t,this.composer=new y(new x({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:e=>this._threadBinding.subscribe(e)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(e={}){let t=this._getEditComposerRuntimeCore(),r=t??this._threadBinding.getState().composer,{runConfig:i=(t??r).runConfig}=e,n=this._core.getState();if("assistant"!==n.role)throw Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:n.parentId,sourceId:n.id,runConfig:i})}speak(){let e=this._core.getState();return this._threadBinding.getState().speak(e.id)}stopSpeaking(){let e=this._core.getState(),t=this._threadBinding.getState();if(t.speech?.messageId===e.id)this._threadBinding.getState().stopSpeaking();else throw Error("Message is not being spoken")}submitFeedback({type:e}){let t=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:t.id,type:e})}switchToBranch({position:e,branchId:t}){let r=this._core.getState();if(t&&e)throw Error("May not specify both branchId and position");if(!t&&!e)throw Error("Must specify either branchId or position");let i=this._threadBinding.getState().getBranches(r.id),n=t;if("previous"===e?n=i[r.branchNumber-2]:"next"===e&&(n=i[r.branchNumber]),!n)throw Error("Branch not found");this._threadBinding.getState().switchToBranch(n)}unstable_getCopyText(){return(0,o.getThreadMessageText)(this.getState())}subscribe(e){return this._core.subscribe(e)}getMessagePartByIndex(e){if(e<0)throw Error("Message part index must be >= 0");return new v(new n.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[${e}]`,messagePartSelector:{type:"index",index:e}},getState:()=>T(this.getState(),e),subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getMessagePartByToolCallId(e){return new v(new n.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(e)}]`,messagePartSelector:{type:"toolCallId",toolCallId:e}},getState:()=>{let t=this._core.getState(),r=t.content.findIndex(t=>"tool-call"===t.type&&t.toolCallId===e);return -1===r?i.SKIP_UPDATE:T(t,r)},subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getAttachmentByIndex(e){return new d(new n.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.attachments[${e}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:e}},getState:()=>{let t=this.getState().attachments,r=t?.[e];return r?{...r,source:"message"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}))}},C=class{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(e,t){const r=new n.ShallowMemoizeSubject({path:e.path,getState:()=>{var r,i;let n;return r=e.getState(),i=t.getState(),n=r.messages.at(-1),Object.freeze({threadId:i.id,metadata:i,capabilities:r.capabilities,isDisabled:r.isDisabled,isLoading:r.isLoading,isRunning:n?.role==="assistant"&&"running"===n.status.type,messages:r.messages,state:r.state,suggestions:r.suggestions,extras:r.extras,speech:r.speech})},subscribe:r=>{let i=e.subscribe(r),n=t.subscribe(r);return()=>{i(),n()}}});this._threadBinding={path:e.path,getState:()=>e.getState(),getStateState:()=>r.getState(),outerSubscribe:t=>e.outerSubscribe(t),subscribe:t=>e.subscribe(t)},this.composer=new b(new x({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:e=>this._threadBinding.subscribe(e)})),this.__internal_bindMethods()}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(e){var t;this._threadBinding.getState().append((t=this._threadBinding.getState().messages,"string"==typeof e?{createdAt:new Date,parentId:t.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:e}],attachments:[],metadata:{custom:{}}}:{createdAt:e.createdAt??new Date,parentId:e.parentId??t.at(-1)?.id??null,sourceId:e.sourceId??null,role:e.role??"user",content:e.content,attachments:e.attachments??[],metadata:e.metadata??{custom:{}},runConfig:e.runConfig??{},startRun:e.startRun}))}subscribe(e){return this._threadBinding.subscribe(e)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(e){let t;return this._threadBinding.getState().startRun({parentId:(t=null===e||"string"==typeof e?{parentId:e}:e).parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{}})}unstable_resumeRun(e){return this._threadBinding.getState().resumeRun({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}})}unstable_loadExternalState(e){this._threadBinding.getState().unstable_loadExternalState(e)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(e){this._threadBinding.getState().import(e)}reset(e){this._threadBinding.getState().reset(e)}getMessageByIndex(e){if(e<0)throw Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[${e}]`,messageSelector:{type:"index",index:e}},()=>{let t=this._threadBinding.getState().messages,r=t[e];if(r)return{message:r,parentId:t[e-1]?.id??null}})}getMessageById(e){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(e)}]`,messageSelector:{type:"messageId",messageId:e}},()=>this._threadBinding.getState().getMessageById(e))}_getMessageRuntime(e,t){return new I(new n.ShallowMemoizeSubject({path:e,getState:()=>{let{message:e,parentId:r}=t()??{},{messages:n,speech:o}=this._threadBinding.getState();if(!e||void 0===r)return i.SKIP_UPDATE;let a=this._threadBinding.getState().getBranches(e.id),l=e.metadata.submittedFeedback;return{...e,...{[s.symbolInnerMessage]:e[s.symbolInnerMessage]},isLast:n.at(-1)?.id===e.id,parentId:r,branchNumber:a.indexOf(e.id)+1,branchCount:a.length,speech:o?.messageId===e.id?o:void 0,submittedFeedback:l}},subscribe:e=>this._threadBinding.subscribe(e)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let r=this._eventSubscriptionSubjects.get(e);return r||(r=new f({event:e,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(e,r)),r.subscribe(t)}};e.s(["ThreadRuntimeImpl",()=>C],69966);var A=(e,t)=>{if(void 0===t)return i.SKIP_UPDATE;let r=e.getItemById(t);return r?{id:r.id,threadId:r.id,remoteId:r.remoteId,externalId:r.externalId,title:r.title,status:r.status,isMain:r.id===e.mainThreadId}:i.SKIP_UPDATE},R=class{constructor(e,i=C){this._core=e,this._runtimeFactory=i;const s=new t.LazyMemoizeSubject({path:{},getState:()=>({mainThreadId:e.mainThreadId,newThread:e.newThreadId,threads:e.threadIds,archivedThreads:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadData}),subscribe:t=>e.subscribe(t)});this._getState=s.getState.bind(s),this._mainThreadListItemRuntime=new r.ThreadListItemRuntimeImpl(new n.ShallowMemoizeSubject({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>A(this._core,this._core.mainThreadId),subscribe:e=>this._core.subscribe(e)}),this._core),this.main=new i(new x({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>e.getMainThreadRuntimeCore(),subscribe:t=>e.subscribe(t)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}_getState;__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(e){return this._core.switchToThread(e)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(e){return this._core.subscribe(e)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(e){return new this._runtimeFactory(new x({path:{ref:"threads[threadId="+JSON.stringify(e)+"]",threadSelector:{type:"threadId",threadId:e}},getState:()=>this._core.getThreadRuntimeCore(e),subscribe:e=>this._core.subscribe(e)}),this.mainItem)}getItemByIndex(e){return new r.ThreadListItemRuntimeImpl(new n.ShallowMemoizeSubject({path:{ref:`threadItems[${e}]`,threadSelector:{type:"index",index:e}},getState:()=>A(this._core,this._core.threadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getArchivedItemByIndex(e){return new r.ThreadListItemRuntimeImpl(new n.ShallowMemoizeSubject({path:{ref:`archivedThreadItems[${e}]`,threadSelector:{type:"archiveIndex",index:e}},getState:()=>A(this._core,this._core.archivedThreadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getItemById(e){return new r.ThreadListItemRuntimeImpl(new n.ShallowMemoizeSubject({path:{ref:`threadItems[threadId=${e}]`,threadSelector:{type:"threadId",threadId:e}},getState:()=>A(this._core,e),subscribe:e=>this._core.subscribe(e)}),this._core)}},M=e.i(87886),P=class{constructor(e){this._core=e,this.threads=new R(e.threads),this._thread=this.threads.main,this.__internal_bindMethods()}threads;get threadList(){return this.threads}_thread;__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(e){return this._core.threads.switchToThread(e)}registerModelContextProvider(e){return this._core.registerModelContextProvider(e)}registerModelConfigProvider(e){return this.registerModelContextProvider(e)}reset({initialMessages:e}={}){return this._core.threads.getMainThreadRuntimeCore().import(M.ExportedMessageRepository.fromArray(e??[]))}};e.s(["AssistantRuntimeImpl",()=>P],46850)},13308,(e,t,r)=>{"use strict";function i({widthInt:e,heightInt:t,blurWidth:r,blurHeight:i,blurDataURL:n,objectFit:s}){let o=r?40*r:e,a=i?40*i:t,l=o&&a?`viewBox='0 0 ${o} ${a}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${n}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},17334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(42608);let i=e.r(13308),n=e.r(17334),s=["-moz-initial","fill","none","scale-down",void 0];function o(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:r=!1,priority:l=!1,preload:u=!1,loading:c,className:d,quality:h,width:f,height:p,fill:g=!1,style:m,overrideSrc:b,onLoad:y,onLoadingComplete:_,placeholder:S="empty",blurDataURL:v,fetchPriority:w,decoding:x="async",layout:E,objectFit:T,objectPosition:I,lazyBoundary:C,lazyRoot:A,...R},M){var P;let O,j,k,{imgConf:B,showAltText:L,blurComplete:N,defaultLoader:D}=M,F=B||n.imageConfigDefault;if("allSizes"in F)O=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t),r=F.qualities?.sort((e,t)=>e-t);O={...F,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===D)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let z=R.loader||D;delete R.loader,delete R.srcSet;let $="__next_img_default"in z;if($){if("custom"===O.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=z;z=t=>{let{config:r,...i}=t;return e(i)}}if(E){"fill"===E&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];e&&(m={...m,...e});let r={responsive:"100vw",fill:"100vw"}[E];r&&!t&&(t=r)}let U="",H=a(f),V=a(p);if((P=e)&&"object"==typeof P&&(o(P)||void 0!==P.src)){let t=o(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(j=t.blurWidth,k=t.blurHeight,v=v||t.blurDataURL,U=t.src,!g)if(H||V){if(H&&!V){let e=H/t.width;V=Math.round(t.height*e)}else if(!H&&V){let e=V/t.height;H=Math.round(t.width*e)}}else H=t.width,V=t.height}let q=!l&&!u&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:U)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,q=!1),O.unoptimized&&(r=!0),$&&!O.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let J=a(h),Y=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:T,objectPosition:I}:{},L?{}:{color:"transparent"},m),W=N||"empty"===S?null:"blur"===S?`url("data:image/svg+xml;charset=utf-8,${(0,i.getImageBlurSvg)({widthInt:H,heightInt:V,blurWidth:j,blurHeight:k,blurDataURL:v||"",objectFit:Y.objectFit})}")`:`url("${S}")`,K=s.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,G=W?{backgroundSize:K,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},X=function({config:e,src:t,unoptimized:r,width:i,quality:n,sizes:s,loader:o}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:a,kind:l}=function({deviceSizes:e,allSizes:t},r,i){if(i){let r=/(^|\s)(1?\d?\d)vw/g,n=[];for(let e;e=r.exec(i);)n.push(parseInt(e[2]));if(n.length){let r=.01*Math.min(...n);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,i,s),u=a.length-1;return{sizes:s||"w"!==l?s:"100vw",srcSet:a.map((r,i)=>`${o({config:e,src:t,quality:n,width:r})} ${"w"===l?r:i+1}${l}`).join(", "),src:o({config:e,src:t,quality:n,width:a[u]})}}({config:O,src:e,unoptimized:r,width:H,quality:J,sizes:t,loader:z}),Q=q?"lazy":c;return{props:{...R,loading:Q,fetchPriority:w,width:H,height:V,decoding:x,className:d,style:{...Y,...G},sizes:X.sizes,srcSet:X.srcSet,src:b||X.src},meta:{unoptimized:r,preload:u||l,placeholder:S,fill:g}}}},59128,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let i=e.r(19243),n="undefined"==typeof window,s=n?()=>{}:i.useLayoutEffect,o=n?()=>{}:i.useEffect;function a(e){let{headManager:t,reduceComponentsToState:r}=e;function a(){if(t&&t.mountedInstances){let e=i.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return n&&(t?.mountedInstances?.add(e.children),a()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),o(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},1853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return g},defaultHead:function(){return d}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(14538),o=e.r(26543),a=e.r(54011),l=o._(e.r(19243)),u=s._(e.r(59128)),c=e.r(91694);function d(){return[(0,a.jsx)("meta",{charSet:"utf-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(42608);let f=["name","httpEquiv","charSet","itemProp"];function p(e){let t,r,i,n;return e.reduce(h,[]).reverse().concat(d().reverse()).filter((t=new Set,r=new Set,i=new Set,n={},e=>{let s=!0,o=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){o=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?s=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?s=!1:r.add(e.type);break;case"meta":for(let t=0,r=f.length;t<r;t++){let r=f[t];if(e.props.hasOwnProperty(r))if("charSet"===r)i.has(r)?s=!1:i.add(r);else{let t=e.props[r],i=n[r]||new Set;("name"!==r||!o)&&i.has(t)?s=!1:(i.add(t),n[r]=i)}}}return s})).reverse().map((e,t)=>{let r=e.key||t;return l.default.cloneElement(e,{key:r})})}let g=function({children:e}){let t=(0,l.useContext)(c.HeadManagerContext);return(0,a.jsx)(u.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},78728,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let i=e.r(14538)._(e.r(19243)),n=e.r(17334),s=i.default.createContext(n.imageConfigDefault)},55009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return i}});let i=e.r(14538)._(e.r(19243)).default.createContext(null)},14739,(e,t,r)=>{"use strict";function i(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return i}})},6552,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let i=e.r(14739);function n({config:e,src:t,width:r,quality:n}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let s=(0,i.findClosestQuality)(n,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${s}${t.startsWith("/_next/static/media/"),""}`}n.__next_img_default=!0;let s=n},53113,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(19243);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,i)),t&&(n.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},9892,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return S}});let i=e.r(14538),n=e.r(26543),s=e.r(54011),o=n._(e.r(19243)),a=i._(e.r(1365)),l=i._(e.r(1853)),u=e.r(172),c=e.r(17334),d=e.r(78728);e.r(42608);let h=e.r(55009),f=i._(e.r(6552)),p=e.r(53113),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,r,i,n,s,o){let a=e?.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let i=!1,n=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>i,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{i=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}i?.current&&i.current(e)}}))}function b(e){return o.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,o.forwardRef)(({src:e,srcSet:t,sizes:r,height:i,width:n,decoding:a,className:l,style:u,fetchPriority:c,placeholder:d,loading:h,unoptimized:f,fill:g,onLoadRef:y,onLoadingCompleteRef:_,setBlurComplete:S,setShowAltText:v,sizesInput:w,onLoad:x,onError:E,...T},I)=>{let C=(0,o.useCallback)(e=>{e&&(E&&(e.src=e.src),e.complete&&m(e,d,y,_,S,f,w))},[e,d,y,_,S,E,f,w]),A=(0,p.useMergedRef)(I,C);return(0,s.jsx)("img",{...T,...b(c),loading:h,width:n,height:i,decoding:a,"data-nimg":g?"fill":"1",className:l,style:u,sizes:r,srcSet:t,src:e,ref:A,onLoad:e=>{m(e.currentTarget,d,y,_,S,f,w)},onError:e=>{v(!0),"empty"!==d&&S(!0),E&&E(e)}})});function _({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...b(t.fetchPriority)};return e&&a.default.preload?(a.default.preload(t.src,r),null):(0,s.jsx)(l.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let S=(0,o.forwardRef)((e,t)=>{let r=(0,o.useContext)(h.RouterContext),i=(0,o.useContext)(d.ImageConfigContext),n=(0,o.useMemo)(()=>{let e=g||i||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),n=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:n,localPatterns:"undefined"==typeof window?i?.localPatterns:e.localPatterns}},[i]),{onLoad:a,onLoadingComplete:l}=e,p=(0,o.useRef)(a);(0,o.useEffect)(()=>{p.current=a},[a]);let m=(0,o.useRef)(l);(0,o.useEffect)(()=>{m.current=l},[l]);let[b,S]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!1),{props:x,meta:E}=(0,u.getImgProps)(e,{defaultLoader:f.default,imgConf:n,blurComplete:b,showAltText:v});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y,{...x,unoptimized:E.unoptimized,placeholder:E.placeholder,fill:E.fill,onLoadRef:p,onLoadingCompleteRef:m,setBlurComplete:S,setShowAltText:w,sizesInput:e.sizes,ref:t}),E.preload?(0,s.jsx)(_,{isAppRouter:!r,imgAttributes:x}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},81163,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return c},getImageProps:function(){return u}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(14538),o=e.r(172),a=e.r(9892),l=s._(e.r(6552));function u(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=a.Image},50169,(e,t,r)=>{t.exports=e.r(81163)},38759,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function s(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,o(e));else t.set(r,o(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},15495,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return a},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(26543)._(e.r(38759)),o=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,i=e.protocol||"",n=e.pathname||"",a=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||o.test(i))&&!1!==u?(u="//"+(u||""),n&&"/"!==n[0]&&(n="/"+n)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${i}${u}${n}${c}${a}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return a(e)}},43841,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return b},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return S},NormalizeError:function(){return y},PageNotFoundError:function(){return _},SP:function(){return g},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return o},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return h},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return w}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&h(r))return i;if(!i)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let g="undefined"!=typeof performance,m=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class b extends Error{}class y extends Error{}class _ extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class S extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},77228,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=e.r(43841),n=e.r(43939);function s(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},17697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},57483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return b},useLinkStatus:function(){return _}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(26543),o=e.r(54011),a=s._(e.r(19243)),l=e.r(15495),u=e.r(13708),c=e.r(53113),d=e.r(43841),h=e.r(56959);e.r(42608);let f=e.r(45804),p=e.r(77228),g=e.r(14267);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function b(t){var r;let i,n,s,[l,b]=(0,a.useOptimistic)(f.IDLE_LINK_STATUS),_=(0,a.useRef)(null),{href:S,as:v,children:w,prefetch:x=null,passHref:E,replace:T,shallow:I,scroll:C,onClick:A,onMouseEnter:R,onTouchStart:M,legacyBehavior:P=!1,onNavigate:O,ref:j,unstable_dynamicOnHover:k,...B}=t;i=w,P&&("string"==typeof i||"number"==typeof i)&&(i=(0,o.jsx)("a",{children:i}));let L=a.default.useContext(u.AppRouterContext),N=!1!==x,D=!1!==x?null===(r=x)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:F,as:z}=a.default.useMemo(()=>{let e=m(S);return{href:e,as:v?m(v):e}},[S,v]);if(P){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=a.default.Children.only(i)}let $=P?n&&"object"==typeof n&&n.ref:j,U=a.default.useCallback(e=>(null!==L&&(_.current=(0,f.mountLinkInstance)(e,F,L,D,N,b)),()=>{_.current&&((0,f.unmountLinkForCurrentNavigation)(_.current),_.current=null),(0,f.unmountPrefetchableInstance)(e)}),[N,F,L,D,b]),H={ref:(0,c.useMergedRef)(U,$),onClick(t){P||"function"!=typeof A||A(t),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!L||t.defaultPrevented||function(t,r,i,n,s,o,l){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(8488);a.default.startTransition(()=>{d(i||r,s?"replace":"push",o??!0,n.current)})}}(t,F,z,_,T,C,O)},onMouseEnter(e){P||"function"!=typeof R||R(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),L&&N&&(0,f.onNavigationIntent)(e.currentTarget,!0===k)},onTouchStart:function(e){P||"function"!=typeof M||M(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),L&&N&&(0,f.onNavigationIntent)(e.currentTarget,!0===k)}};return(0,d.isAbsoluteUrl)(z)?H.href=z:P&&!E&&("a"!==n.type||"href"in n.props)||(H.href=(0,h.addBasePath)(z)),s=P?a.default.cloneElement(n,H):(0,o.jsx)("a",{...B,...H,children:i}),(0,o.jsx)(y.Provider,{value:l,children:s})}e.r(17697);let y=(0,a.createContext)(f.IDLE_LINK_STATUS),_=()=>(0,a.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},28374,e=>{"use strict";var t=e.i(19243),r=e.i(41619),i=class{#e;constructor(e){this.#e=e}get threads(){return this.#e.threads().getState()}get tools(){return this.#e.tools().getState()}get threadListItem(){return this.#e.threadListItem().getState()}get thread(){return this.#e.thread().getState()}get composer(){return this.#e.composer().getState()}get message(){return this.#e.message().getState()}get part(){return this.#e.part().getState()}get attachment(){return this.#e.attachment().getState()}},n=e=>{let n=(0,r.useAssistantApi)(),s=(0,t.useMemo)(()=>new i(n),[n]),o=(0,t.useSyncExternalStore)(n.subscribe,()=>e(s),()=>e(s));if((0,t.useDebugValue)(o),o instanceof i)throw Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return o};e.s(["useAssistantState",()=>n])},47463,e=>{"use strict";var t=e.i(19243),r=e.i(4635),i=e.i(64150),n=e.i(54011),s=(e,s,o=[])=>{let a=(0,t.forwardRef)((e,t)=>{let a={},l={};Object.keys(e).forEach(t=>{o.includes(t)?a[t]=e[t]:l[t]=e[t]});let u=s(a)??void 0;return(0,n.jsx)(r.Primitive.button,{type:"button",...l,ref:t,disabled:l.disabled||!u,onClick:(0,i.composeEventHandlers)(l.onClick,u)})});return a.displayName=e,a};e.s(["createActionButton",()=>s])},65342,e=>{"use strict";let t=(0,e.i(85739).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["default",()=>t])},98962,e=>{"use strict";var t=e.i(50500);e.s(["PlusIcon",()=>t.default])},65875,e=>{"use strict";var t=e.i(54011),r=e.i(19243),i=e.i(64150),n=e.i(31436),s=e.i(14381),o=e.i(17874),a=e.i(77682);let l=["top","right","bottom","left"],u=Math.min,c=Math.max,d=Math.round,h=Math.floor,f=e=>({x:e,y:e}),p={left:"right",right:"left",bottom:"top",top:"bottom"},g={start:"end",end:"start"};function m(e,t){return"function"==typeof e?e(t):e}function b(e){return e.split("-")[0]}function y(e){return e.split("-")[1]}function _(e){return"x"===e?"y":"x"}function S(e){return"y"===e?"height":"width"}let v=new Set(["top","bottom"]);function w(e){return v.has(b(e))?"y":"x"}function x(e){return e.replace(/start|end/g,e=>g[e])}let E=["left","right"],T=["right","left"],I=["top","bottom"],C=["bottom","top"];function A(e){return e.replace(/left|right|bottom|top/g,e=>p[e])}function R(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function M(e){let{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function P(e,t,r){let i,{reference:n,floating:s}=e,o=w(t),a=_(w(t)),l=S(a),u=b(t),c="y"===o,d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;switch(u){case"top":i={x:d,y:n.y-s.height};break;case"bottom":i={x:d,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:h};break;case"left":i={x:n.x-s.width,y:h};break;default:i={x:n.x,y:n.y}}switch(y(t)){case"start":i[a]-=f*(r&&c?-1:1);break;case"end":i[a]+=f*(r&&c?-1:1)}return i}let O=async(e,t,r)=>{let{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:d}=P(u,i,l),h=i,f={},p=0;for(let r=0;r<a.length;r++){let{name:s,fn:g}=a[r],{x:m,y:b,data:y,reset:_}=await g({x:c,y:d,initialPlacement:i,placement:h,strategy:n,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=b?b:d,f={...f,[s]:{...f[s],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(h=_.placement),_.rects&&(u=!0===_.rects?await o.getElementRects({reference:e,floating:t,strategy:n}):_.rects),{x:c,y:d}=P(u,h,l)),r=-1)}return{x:c,y:d,placement:h,strategy:n,middlewareData:f}};async function j(e,t){var r;void 0===t&&(t={});let{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=m(t,e),p=R(f),g=a[h?"floating"===d?"reference":"floating":d],b=M(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(g)))||r?g:g.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===d?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,_=await (null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),S=await (null==s.isElement?void 0:s.isElement(_))&&await (null==s.getScale?void 0:s.getScale(_))||{x:1,y:1},v=M(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(b.top-v.top+p.top)/S.y,bottom:(v.bottom-b.bottom+p.bottom)/S.y,left:(b.left-v.left+p.left)/S.x,right:(v.right-b.right+p.right)/S.x}}function k(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B(e){return l.some(t=>e[t]>=0)}let L=new Set(["left","top"]);async function N(e,t){let{placement:r,platform:i,elements:n}=e,s=await (null==i.isRTL?void 0:i.isRTL(n.floating)),o=b(r),a=y(r),l="y"===w(r),u=L.has(o)?-1:1,c=s&&l?-1:1,d=m(t,e),{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}function D(){return"undefined"!=typeof window}function F(e){return U(e)?(e.nodeName||"").toLowerCase():"#document"}function z(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $(e){var t;return null==(t=(U(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function U(e){return!!D()&&(e instanceof Node||e instanceof z(e).Node)}function H(e){return!!D()&&(e instanceof Element||e instanceof z(e).Element)}function V(e){return!!D()&&(e instanceof HTMLElement||e instanceof z(e).HTMLElement)}function q(e){return!!D()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof z(e).ShadowRoot)}let J=new Set(["inline","contents"]);function Y(e){let{overflow:t,overflowX:r,overflowY:i,display:n}=en(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!J.has(n)}let W=new Set(["table","td","th"]),K=[":popover-open",":modal"];function G(e){return K.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let X=["transform","translate","scale","rotate","perspective"],Q=["transform","translate","scale","rotate","perspective","filter"],Z=["paint","layout","strict","content"];function ee(e){let t=et(),r=H(e)?en(e):e;return X.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Q.some(e=>(r.willChange||"").includes(e))||Z.some(e=>(r.contain||"").includes(e))}function et(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let er=new Set(["html","body","#document"]);function ei(e){return er.has(F(e))}function en(e){return z(e).getComputedStyle(e)}function es(e){return H(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if("html"===F(e))return e;let t=e.assignedSlot||e.parentNode||q(e)&&e.host||$(e);return q(t)?t.host:t}function ea(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=eo(t);return ei(r)?t.ownerDocument?t.ownerDocument.body:t.body:V(r)&&Y(r)?r:e(r)}(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),o=z(n);if(s){let e=el(o);return t.concat(o,o.visualViewport||[],Y(n)?n:[],e&&r?ea(e):[])}return t.concat(n,ea(n,[],r))}function el(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eu(e){let t=en(e),r=parseFloat(t.width)||0,i=parseFloat(t.height)||0,n=V(e),s=n?e.offsetWidth:r,o=n?e.offsetHeight:i,a=d(r)!==s||d(i)!==o;return a&&(r=s,i=o),{width:r,height:i,$:a}}function ec(e){return H(e)?e:e.contextElement}function ed(e){let t=ec(e);if(!V(t))return f(1);let r=t.getBoundingClientRect(),{width:i,height:n,$:s}=eu(t),o=(s?d(r.width):r.width)/i,a=(s?d(r.height):r.height)/n;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}let eh=f(0);function ef(e){let t=z(e);return et()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eh}function ep(e,t,r,i){var n;void 0===t&&(t=!1),void 0===r&&(r=!1);let s=e.getBoundingClientRect(),o=ec(e),a=f(1);t&&(i?H(i)&&(a=ed(i)):a=ed(e));let l=(void 0===(n=r)&&(n=!1),i&&(!n||i===z(o))&&n)?ef(o):f(0),u=(s.left+l.x)/a.x,c=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){let e=z(o),t=i&&H(i)?z(i):i,r=e,n=el(r);for(;n&&i&&t!==r;){let e=ed(n),t=n.getBoundingClientRect(),i=en(n),s=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,c*=e.y,d*=e.x,h*=e.y,u+=s,c+=o,n=el(r=z(n))}}return M({width:d,height:h,x:u,y:c})}function eg(e,t){let r=es(e).scrollLeft;return t?t.left+r:ep($(e)).left+r}function em(e,t,r){void 0===r&&(r=!1);let i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-(r?0:eg(e,i)),y:i.top+t.scrollTop}}let eb=new Set(["absolute","fixed"]);function ey(e,t,r){var i;let n;if("viewport"===t)n=function(e,t){let r=z(e),i=$(e),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;let e=et();(!e||e&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,r);else if("document"===t){let t,r,s,o,a,l,u;i=$(e),t=$(i),r=es(i),s=i.ownerDocument.body,o=c(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=c(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),l=-r.scrollLeft+eg(i),u=-r.scrollTop,"rtl"===en(s).direction&&(l+=c(t.clientWidth,s.clientWidth)-o),n={width:o,height:a,x:l,y:u}}else if(H(t)){let e,i,s,o,a,l;i=(e=ep(t,!0,"fixed"===r)).top+t.clientTop,s=e.left+t.clientLeft,o=V(t)?ed(t):f(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,n={width:a,height:l,x:s*o.x,y:i*o.y}}else{let r=ef(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return M(n)}function e_(e){return"static"===en(e).position}function eS(e,t){if(!V(e)||"fixed"===en(e).position)return null;if(t)return t(e);let r=e.offsetParent;return $(e)===r&&(r=r.ownerDocument.body),r}function ev(e,t){var r;let i=z(e);if(G(e))return i;if(!V(e)){let t=eo(e);for(;t&&!ei(t);){if(H(t)&&!e_(t))return t;t=eo(t)}return i}let n=eS(e,t);for(;n&&(r=n,W.has(F(r)))&&e_(n);)n=eS(n,t);return n&&ei(n)&&e_(n)&&!ee(n)?i:n||function(e){let t=eo(e);for(;V(t)&&!ei(t);){if(ee(t))return t;if(G(t))break;t=eo(t)}return null}(e)||i}let ew=async function(e){let t=this.getOffsetParent||ev,r=this.getDimensions,i=await r(e.floating);return{reference:function(e,t,r){let i=V(t),n=$(t),s="fixed"===r,o=ep(e,!0,s,t),a={scrollLeft:0,scrollTop:0},l=f(0);if(i||!i&&!s)if(("body"!==F(t)||Y(n))&&(a=es(t)),i){let e=ep(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else n&&(l.x=eg(n));s&&!i&&n&&(l.x=eg(n));let u=!n||i||s?f(0):em(n,a);return{x:o.left+a.scrollLeft-l.x-u.x,y:o.top+a.scrollTop-l.y-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},ex={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e,s="fixed"===n,o=$(i),a=!!t&&G(t.floating);if(i===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},u=f(1),c=f(0),d=V(i);if((d||!d&&!s)&&(("body"!==F(i)||Y(o))&&(l=es(i)),V(i))){let e=ep(i);u=ed(i),c.x=e.x+i.clientLeft,c.y=e.y+i.clientTop}let h=!o||d||s?f(0):em(o,l,!0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:r.y*u.y-l.scrollTop*u.y+c.y+h.y}},getDocumentElement:$,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e,s=[..."clippingAncestors"===r?G(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let i=ea(e,[],!1).filter(e=>H(e)&&"body"!==F(e)),n=null,s="fixed"===en(e).position,o=s?eo(e):e;for(;H(o)&&!ei(o);){let t=en(o),r=ee(o);r||"fixed"!==t.position||(n=null),(s?!r&&!n:!r&&"static"===t.position&&!!n&&eb.has(n.position)||Y(o)&&!r&&function e(t,r){let i=eo(t);return!(i===r||!H(i)||ei(i))&&("fixed"===en(i).position||e(i,r))}(e,o))?i=i.filter(e=>e!==o):n=t,o=eo(o)}return t.set(e,i),i}(t,this._c):[].concat(r),i],o=s[0],a=s.reduce((e,r)=>{let i=ey(t,r,n);return e.top=c(i.top,e.top),e.right=u(i.right,e.right),e.bottom=u(i.bottom,e.bottom),e.left=c(i.left,e.left),e},ey(t,o,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ev,getElementRects:ew,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=eu(e);return{width:t,height:r}},getScale:ed,isElement:H,isRTL:function(e){return"rtl"===en(e).direction}};function eE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let eT=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:d,padding:h=0}=m(e,t)||{};if(null==d)return{};let f=R(h),p={x:r,y:i},g=_(w(n)),b=S(g),v=await o.getDimensions(d),x="y"===g,E=x?"clientHeight":"clientWidth",T=s.reference[b]+s.reference[g]-p[g]-s.floating[b],I=p[g]-s.reference[g],C=await (null==o.getOffsetParent?void 0:o.getOffsetParent(d)),A=C?C[E]:0;A&&await (null==o.isElement?void 0:o.isElement(C))||(A=a.floating[E]||s.floating[b]);let M=A/2-v[b]/2-1,P=u(f[x?"top":"left"],M),O=u(f[x?"bottom":"right"],M),j=A-v[b]-O,k=A/2-v[b]/2+(T/2-I/2),B=c(P,u(k,j)),L=!l.arrow&&null!=y(n)&&k!==B&&s.reference[b]/2-(k<P?P:O)-v[b]/2<0,N=L?k<P?k-P:k-j:0;return{[g]:p[g]+N,data:{[g]:B,centerOffset:k-B-N,...L&&{alignmentOffset:N}},reset:L}}});var eI=e.i(1365),eC="undefined"!=typeof document?r.useLayoutEffect:function(){};function eA(e,t){let r,i,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!eA(e[i],t[i]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,n[i]))return!1;for(i=r;0!=i--;){let r=n[i];if(("_owner"!==r||!e.$$typeof)&&!eA(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function eR(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eM(e,t){let r=eR(e);return Math.round(t*r)/r}function eP(e){let t=r.useRef(e);return eC(()=>{t.current=e}),t}var eO=e.i(74882),ej=r.forwardRef((e,r)=>{let{children:i,width:n=10,height:s=5,...o}=e;return(0,t.jsx)(eO.Primitive.svg,{...o,ref:r,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:(0,t.jsx)("polygon",{points:"0,0 30,0 15,10"})})});ej.displayName="Arrow";var ek=e.i(15755),eB=e.i(96458),eL=e.i(1770),eN="Popper",[eD,eF]=(0,s.createContextScope)(eN),[ez,e$]=eD(eN),eU=e=>{let{__scopePopper:i,children:n}=e,[s,o]=r.useState(null);return(0,t.jsx)(ez,{scope:i,anchor:s,onAnchorChange:o,children:n})};eU.displayName=eN;var eH="PopperAnchor",eV=r.forwardRef((e,i)=>{let{__scopePopper:s,virtualRef:o,...a}=e,l=e$(eH,s),u=r.useRef(null),c=(0,n.useComposedRefs)(i,u),d=r.useRef(null);return r.useEffect(()=>{let e=d.current;d.current=o?.current||u.current,e!==d.current&&l.onAnchorChange(d.current)}),o?null:(0,t.jsx)(eO.Primitive.div,{...a,ref:c})});eV.displayName=eH;var eq="PopperContent",[eJ,eY]=eD(eq),eW=r.forwardRef((e,i)=>{var s,o,a,l,d,f,p,g,v,R,M,P,D;let{__scopePopper:F,side:z="bottom",sideOffset:U=0,align:H="center",alignOffset:V=0,arrowPadding:q=0,avoidCollisions:J=!0,collisionBoundary:Y=[],collisionPadding:W=0,sticky:K="partial",hideWhenDetached:G=!1,updatePositionStrategy:X="optimized",onPlaced:Q,...Z}=e,ee=e$(eq,F),[et,er]=r.useState(null),ei=(0,n.useComposedRefs)(i,e=>er(e)),[en,es]=r.useState(null),eo=(0,eL.useSize)(en),el=eo?.width??0,eu=eo?.height??0,ed="number"==typeof W?W:{top:0,right:0,bottom:0,left:0,...W},eh=Array.isArray(Y)?Y:[Y],ef=eh.length>0,eg={padding:ed,boundary:eh.filter(eQ),altBoundary:ef},{refs:em,floatingStyles:eb,placement:ey,isPositioned:e_,middlewareData:eS}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:i="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,h]=r.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=r.useState(n);eA(f,n)||p(n);let[g,m]=r.useState(null),[b,y]=r.useState(null),_=r.useCallback(e=>{e!==x.current&&(x.current=e,m(e))},[]),S=r.useCallback(e=>{e!==E.current&&(E.current=e,y(e))},[]),v=o||g,w=a||b,x=r.useRef(null),E=r.useRef(null),T=r.useRef(d),I=null!=u,C=eP(u),A=eP(s),R=eP(c),M=r.useCallback(()=>{var e,r;let n,s,o;if(!x.current||!E.current)return;let a={placement:t,strategy:i,middleware:f};A.current&&(a.platform=A.current),(e=x.current,r=E.current,n=new Map,o={...(s={platform:ex,...a}).platform,_c:n},O(e,r,{...s,platform:o})).then(e=>{let t={...e,isPositioned:!1!==R.current};P.current&&!eA(T.current,t)&&(T.current=t,eI.flushSync(()=>{h(t)}))})},[f,t,i,A,R]);eC(()=>{!1===c&&T.current.isPositioned&&(T.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[c]);let P=r.useRef(!1);eC(()=>(P.current=!0,()=>{P.current=!1}),[]),eC(()=>{if(v&&(x.current=v),w&&(E.current=w),v&&w){if(C.current)return C.current(v,w,M);M()}},[v,w,M,C,I]);let j=r.useMemo(()=>({reference:x,floating:E,setReference:_,setFloating:S}),[_,S]),k=r.useMemo(()=>({reference:v,floating:w}),[v,w]),B=r.useMemo(()=>{let e={position:i,left:0,top:0};if(!k.floating)return e;let t=eM(k.floating,d.x),r=eM(k.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...eR(k.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:t,top:r}},[i,l,k.floating,d.x,d.y]);return r.useMemo(()=>({...d,update:M,refs:j,elements:k,floatingStyles:B}),[d,M,j,k,B])}({strategy:"fixed",placement:z+("center"!==H?"-"+H:""),whileElementsMounted:(...e)=>(function(e,t,r,i){let n;void 0===i&&(i={});let{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:d=!1}=i,f=ec(e),p=s||o?[...f?ea(f):[],...ea(t)]:[];p.forEach(e=>{s&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});let g=f&&l?function(e,t){let r,i=null,n=$(e);function s(){var e;clearTimeout(r),null==(e=i)||e.disconnect(),i=null}return!function o(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();let d=e.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=d;if(a||t(),!g||!m)return;let b={rootMargin:-h(p)+"px "+-h(n.clientWidth-(f+g))+"px "+-h(n.clientHeight-(p+m))+"px "+-h(f)+"px",threshold:c(0,u(1,l))||1},y=!0;function _(t){let i=t[0].intersectionRatio;if(i!==l){if(!y)return o();i?o(!1,i):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==i||eE(d,e.getBoundingClientRect())||o(),y=!1}try{i=new IntersectionObserver(_,{...b,root:n.ownerDocument})}catch(e){i=new IntersectionObserver(_,b)}i.observe(e)}(!0),s}(f,r):null,m=-1,b=null;a&&(b=new ResizeObserver(e=>{let[i]=e;i&&i.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=b)||e.observe(t)})),r()}),f&&!d&&b.observe(f),b.observe(t));let y=d?ep(e):null;return d&&function t(){let i=ep(e);y&&!eE(y,i)&&r(),y=i,n=requestAnimationFrame(t)}(),r(),()=>{var e;p.forEach(e=>{s&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==g||g(),null==(e=b)||e.disconnect(),b=null,d&&cancelAnimationFrame(n)}})(...e,{animationFrame:"always"===X}),elements:{reference:ee.anchor},middleware:[{...{name:"offset",options:o=s={mainAxis:U+eu,alignmentAxis:V},async fn(e){var t,r;let{x:i,y:n,placement:s,middlewareData:a}=e,l=await N(e,o);return s===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:n+l.y,data:{...l,placement:s}}}},options:[s,void 0]},J&&{...{name:"shift",options:d=l={mainAxis:!0,crossAxis:!1,limiter:"partial"===K?{...(a=void 0,{options:a={},fn(e){let{x:t,y:r,placement:i,rects:n,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=m(a,e),c={x:t,y:r},d=w(i),h=_(d),f=c[h],p=c[d],g=m(o,e),y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){let e="y"===h?"height":"width",t=n.reference[h]-n.floating[e]+y.mainAxis,r=n.reference[h]+n.reference[e]-y.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var S,v;let e="y"===h?"width":"height",t=L.has(b(i)),r=n.reference[d]-n.floating[e]+(t&&(null==(S=s.offset)?void 0:S[d])||0)+(t?0:y.crossAxis),o=n.reference[d]+n.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[d])||0)-(t?y.crossAxis:0);p<r?p=r:p>o&&(p=o)}return{[h]:f,[d]:p}}}),options:[void 0,void 0]}:void 0,...eg},async fn(e){let{x:t,y:r,placement:i}=e,{mainAxis:n=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...a}=m(d,e),l={x:t,y:r},h=await j(e,a),f=w(b(i)),p=_(f),g=l[p],y=l[f];if(n){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=g+h[e],i=g-h[t];g=c(r,u(g,i))}if(s){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=y+h[e],i=y-h[t];y=c(r,u(y,i))}let S=o.fn({...e,[p]:g,[f]:y});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[p]:n,[f]:s}}}}},options:[l,void 0]},J&&{...{name:"flip",options:p=f={...eg},async fn(e){var t,r,i,n,s,o,a,l;let u,c,d,{placement:h,middlewareData:f,rects:g,initialPlacement:v,platform:R,elements:M}=e,{mainAxis:P=!0,crossAxis:O=!0,fallbackPlacements:k,fallbackStrategy:B="bestFit",fallbackAxisSideDirection:L="none",flipAlignment:N=!0,...D}=m(p,e);if(null!=(t=f.arrow)&&t.alignmentOffset)return{};let F=b(h),z=w(v),$=b(v)===v,U=await (null==R.isRTL?void 0:R.isRTL(M.floating)),H=k||($||!N?[A(v)]:(u=A(v),[x(v),u,x(u)])),V="none"!==L;!k&&V&&H.push(...(c=y(v),d=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?T:E;return t?E:T;case"left":case"right":return t?I:C;default:return[]}}(b(v),"start"===L,U),c&&(d=d.map(e=>e+"-"+c),N&&(d=d.concat(d.map(x)))),d));let q=[v,...H],J=await j(e,D),Y=[],W=(null==(r=f.flip)?void 0:r.overflows)||[];if(P&&Y.push(J[F]),O){let e,t,r,i,n=(o=h,a=g,void 0===(l=U)&&(l=!1),e=y(o),r=S(t=_(w(o))),i="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",a.reference[r]>a.floating[r]&&(i=A(i)),[i,A(i)]);Y.push(J[n[0]],J[n[1]])}if(W=[...W,{placement:h,overflows:Y}],!Y.every(e=>e<=0)){let e=((null==(i=f.flip)?void 0:i.index)||0)+1,t=q[e];if(t&&("alignment"!==O||z===w(t)||W.every(e=>w(e.placement)!==z||e.overflows[0]>0)))return{data:{index:e,overflows:W},reset:{placement:t}};let r=null==(n=W.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:n.placement;if(!r)switch(B){case"bestFit":{let e=null==(s=W.filter(e=>{if(V){let t=w(e.placement);return t===z||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=v}if(h!==r)return{reset:{placement:r}}}return{}}},options:[f,void 0]},{...{name:"size",options:v=g={...eg,apply:({elements:e,rects:t,availableWidth:r,availableHeight:i})=>{let{width:n,height:s}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${i}px`),o.setProperty("--radix-popper-anchor-width",`${n}px`),o.setProperty("--radix-popper-anchor-height",`${s}px`)}},async fn(e){var t,r;let i,n,{placement:s,rects:o,platform:a,elements:l}=e,{apply:d=()=>{},...h}=m(v,e),f=await j(e,h),p=b(s),g=y(s),_="y"===w(s),{width:S,height:x}=o.floating;"top"===p||"bottom"===p?(i=p,n=g===(await (null==a.isRTL?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(n=p,i="end"===g?"top":"bottom");let E=x-f.top-f.bottom,T=S-f.left-f.right,I=u(x-f[i],E),C=u(S-f[n],T),A=!e.middlewareData.shift,R=I,M=C;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(M=T),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(R=E),A&&!g){let e=c(f.left,0),t=c(f.right,0),r=c(f.top,0),i=c(f.bottom,0);_?M=S-2*(0!==e||0!==t?e+t:c(f.left,f.right)):R=x-2*(0!==r||0!==i?r+i:c(f.top,f.bottom))}await d({...e,availableWidth:M,availableHeight:R});let P=await a.getDimensions(l.floating);return S!==P.width||x!==P.height?{reset:{rects:!0}}:{}}},options:[g,void 0]},en&&{...{name:"arrow",options:M=R={element:en,padding:q},fn(e){let{element:t,padding:r}="function"==typeof M?M(e):M;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?eT({element:t.current,padding:r}).fn(e):{}:t?eT({element:t,padding:r}).fn(e):{}}},options:[R,void 0]},eZ({arrowWidth:el,arrowHeight:eu}),G&&{...{name:"hide",options:D=P={strategy:"referenceHidden",...eg},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...i}=m(D,e);switch(r){case"referenceHidden":{let r=k(await j(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:B(r)}}}case"escaped":{let r=k(await j(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:B(r)}}}default:return{}}}},options:[P,void 0]}]}),[ev,ew]=e0(ey),ej=(0,ek.useCallbackRef)(Q);(0,eB.useLayoutEffect)(()=>{e_&&ej?.()},[e_,ej]);let eN=eS.arrow?.x,eD=eS.arrow?.y,eF=eS.arrow?.centerOffset!==0,[ez,eU]=r.useState();return(0,eB.useLayoutEffect)(()=>{et&&eU(window.getComputedStyle(et).zIndex)},[et]),(0,t.jsx)("div",{ref:em.setFloating,"data-radix-popper-content-wrapper":"",style:{...eb,transform:e_?eb.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ez,"--radix-popper-transform-origin":[eS.transformOrigin?.x,eS.transformOrigin?.y].join(" "),...eS.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,t.jsx)(eJ,{scope:F,placedSide:ev,onArrowChange:es,arrowX:eN,arrowY:eD,shouldHideArrow:eF,children:(0,t.jsx)(eO.Primitive.div,{"data-side":ev,"data-align":ew,...Z,ref:ei,style:{...Z.style,animation:e_?void 0:"none"}})})})});eW.displayName=eq;var eK="PopperArrow",eG={top:"bottom",right:"left",bottom:"top",left:"right"},eX=r.forwardRef(function(e,r){let{__scopePopper:i,...n}=e,s=eY(eK,i),o=eG[s.placedSide];return(0,t.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,t.jsx)(ej,{...n,ref:r,style:{...n.style,display:"block"}})})});function eQ(e){return null!==e}eX.displayName=eK;var eZ=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:i,middlewareData:n}=t,s=n.arrow?.centerOffset!==0,o=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[l,u]=e0(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(n.arrow?.x??0)+o/2,h=(n.arrow?.y??0)+a/2,f="",p="";return"bottom"===l?(f=s?c:`${d}px`,p=`${-a}px`):"top"===l?(f=s?c:`${d}px`,p=`${i.floating.height+a}px`):"right"===l?(f=`${-a}px`,p=s?c:`${h}px`):"left"===l&&(f=`${i.floating.width+a}px`,p=s?c:`${h}px`),{data:{x:f,y:p}}}});function e0(e){let[t,r="center"]=e.split("-");return[t,r]}var e1=e.i(54450),e3=e.i(18823),e5=e.i(98919),e4=e.i(11575),e2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),e8=r.forwardRef((e,r)=>(0,t.jsx)(eO.Primitive.span,{...e,ref:r,style:{...e2,...e.style}}));e8.displayName="VisuallyHidden";var[e6,e7]=(0,s.createContextScope)("Tooltip",[eF]),e9=eF(),te="TooltipProvider",tt="tooltip.open",[tr,ti]=e6(te),tn=e=>{let{__scopeTooltip:i,delayDuration:n=700,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=e,l=r.useRef(!0),u=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(tr,{scope:i,isOpenDelayedRef:l,delayDuration:n,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:r.useCallback(e=>{u.current=e},[]),disableHoverableContent:o,children:a})};tn.displayName=te;var ts="Tooltip",[to,ta]=e6(ts),tl=e=>{let{__scopeTooltip:i,children:n,open:s,defaultOpen:o,onOpenChange:l,disableHoverableContent:u,delayDuration:c}=e,d=ti(ts,e.__scopeTooltip),h=e9(i),[f,p]=r.useState(null),g=(0,a.useId)(),m=r.useRef(0),b=u??d.disableHoverableContent,y=c??d.delayDuration,_=r.useRef(!1),[S,v]=(0,e4.useControllableState)({prop:s,defaultProp:o??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(tt))):d.onClose(),l?.(e)},caller:ts}),w=r.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),x=r.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_.current=!1,v(!0)},[v]),E=r.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),T=r.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,v(!0),m.current=0},y)},[y,v]);return r.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,t.jsx)(eU,{...h,children:(0,t.jsx)(to,{scope:i,contentId:g,open:S,stateAttribute:w,trigger:f,onTriggerChange:p,onTriggerEnter:r.useCallback(()=>{d.isOpenDelayedRef.current?T():x()},[d.isOpenDelayedRef,T,x]),onTriggerLeave:r.useCallback(()=>{b?E():(window.clearTimeout(m.current),m.current=0)},[E,b]),onOpen:x,onClose:E,disableHoverableContent:b,children:n})})};tl.displayName=ts;var tu="TooltipTrigger",tc=r.forwardRef((e,s)=>{let{__scopeTooltip:o,...a}=e,l=ta(tu,o),u=ti(tu,o),c=e9(o),d=r.useRef(null),h=(0,n.useComposedRefs)(s,d,l.onTriggerChange),f=r.useRef(!1),p=r.useRef(!1),g=r.useCallback(()=>f.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),(0,t.jsx)(eV,{asChild:!0,...c,children:(0,t.jsx)(eO.Primitive.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:h,onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(p.current||u.isPointerInTransitRef.current||(l.onTriggerEnter(),p.current=!0))}),onPointerLeave:(0,i.composeEventHandlers)(e.onPointerLeave,()=>{l.onTriggerLeave(),p.current=!1}),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,()=>{l.open&&l.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{f.current||l.onOpen()}),onBlur:(0,i.composeEventHandlers)(e.onBlur,l.onClose),onClick:(0,i.composeEventHandlers)(e.onClick,l.onClose)})})});tc.displayName=tu;var td="TooltipPortal",[th,tf]=e6(td,{forceMount:void 0}),tp=e=>{let{__scopeTooltip:r,forceMount:i,children:n,container:s}=e,o=ta(td,r);return(0,t.jsx)(th,{scope:r,forceMount:i,children:(0,t.jsx)(e3.Presence,{present:i||o.open,children:(0,t.jsx)(e1.Portal,{asChild:!0,container:s,children:n})})})};tp.displayName=td;var tg="TooltipContent",tm=r.forwardRef((e,r)=>{let i=tf(tg,e.__scopeTooltip),{forceMount:n=i.forceMount,side:s="top",...o}=e,a=ta(tg,e.__scopeTooltip);return(0,t.jsx)(e3.Presence,{present:n||a.open,children:a.disableHoverableContent?(0,t.jsx)(tv,{side:s,...o,ref:r}):(0,t.jsx)(tb,{side:s,...o,ref:r})})}),tb=r.forwardRef((e,i)=>{let s=ta(tg,e.__scopeTooltip),o=ti(tg,e.__scopeTooltip),a=r.useRef(null),l=(0,n.useComposedRefs)(i,a),[u,c]=r.useState(null),{trigger:d,onClose:h}=s,f=a.current,{onPointerInTransitChange:p}=o,g=r.useCallback(()=>{c(null),p(!1)},[p]),m=r.useCallback((e,t)=>{let r,i=e.currentTarget,n={x:e.clientX,y:e.clientY},s=function(e,t){let r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,i,n,s)){case s:return"left";case n:return"right";case r:return"top";case i:return"bottom";default:throw Error("unreachable")}}(n,i.getBoundingClientRect());c(((r=[...function(e,t,r=5){let i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return i}(n,s),...function(e){let{top:t,right:r,bottom:i,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:i},{x:n,y:i}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let i=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(i.y-r.y)>=(e.y-r.y)*(i.x-r.x))t.pop();else break}t.push(i)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let i=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(i.y-t.y)>=(e.y-t.y)*(i.x-t.x))r.pop();else break}r.push(i)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),p(!0)},[p]);return r.useEffect(()=>()=>g(),[g]),r.useEffect(()=>{if(d&&f){let e=e=>m(e,f),t=e=>m(e,d);return d.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[d,f,m,g]),r.useEffect(()=>{if(u){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},i=d?.contains(t)||f?.contains(t),n=!function(e,t){let{x:r,y:i}=e,n=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e],a=t[s],l=o.x,u=o.y,c=a.x,d=a.y;u>i!=d>i&&r<(c-l)*(i-u)/(d-u)+l&&(n=!n)}return n}(r,u);i?g():n&&(g(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,f,u,h,g]),(0,t.jsx)(tv,{...e,ref:l})}),[ty,t_]=e6(ts,{isInside:!1}),tS=(0,e5.createSlottable)("TooltipContent"),tv=r.forwardRef((e,i)=>{let{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:u,...c}=e,d=ta(tg,n),h=e9(n),{onClose:f}=d;return r.useEffect(()=>(document.addEventListener(tt,f),()=>document.removeEventListener(tt,f)),[f]),r.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,f]),(0,t.jsx)(o.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,t.jsxs)(eW,{"data-state":d.stateAttribute,...h,...c,ref:i,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(tS,{children:s}),(0,t.jsx)(ty,{scope:n,isInside:!0,children:(0,t.jsx)(e8,{id:d.contentId,role:"tooltip",children:a||s})})]})})});tm.displayName=tg;var tw="TooltipArrow",tx=r.forwardRef((e,r)=>{let{__scopeTooltip:i,...n}=e,s=e9(i);return t_(tw,i).isInside?null:(0,t.jsx)(eX,{...s,...n,ref:r})});tx.displayName=tw;var tE=e.i(7071);function tT({delayDuration:e=0,...r}){return(0,t.jsx)(tn,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function tI({...e}){return(0,t.jsx)(tT,{children:(0,t.jsx)(tl,{"data-slot":"tooltip",...e})})}function tC({...e}){return(0,t.jsx)(tc,{"data-slot":"tooltip-trigger",...e})}function tA({className:e,sideOffset:r=0,children:i,...n}){return(0,t.jsx)(tp,{children:(0,t.jsxs)(tm,{"data-slot":"tooltip-content",sideOffset:r,className:(0,tE.cn)("z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in rounded-md bg-foreground px-3 py-1.5 text-xs text-balance text-background fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",e),...n,children:[i,(0,t.jsx)(tx,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-foreground fill-foreground"})]})})}e.s(["Tooltip",()=>tI,"TooltipContent",()=>tA,"TooltipProvider",()=>tT,"TooltipTrigger",()=>tC],65875)},55429,e=>{"use strict";var t=e.i(54011),r=e.i(8415),i=e.i(19243),n=e.i(25111),s=e.i(65875),o=e.i(7071);let a=(0,i.forwardRef)(({children:e,tooltip:i,side:a="bottom",className:l,...u},c)=>(0,t.jsxs)(s.Tooltip,{children:[(0,t.jsx)(s.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"icon",...u,className:(0,o.cn)("aui-button-icon size-6 p-1",l),ref:c,children:[(0,t.jsx)(r.Slottable,{children:e}),(0,t.jsx)("span",{className:"aui-sr-only sr-only",children:i})]})}),(0,t.jsx)(s.TooltipContent,{side:a,children:i})]}));a.displayName="TooltipIconButton",e.s(["TooltipIconButton",0,a])}]);